<button
  class="m-button"
  (click)="emitAction($event)"
  [type]="type"
  [disabled]="disabled"
  [ngClass]="{
    saving: saving,
    grey: color === 'grey',
    blue: color === 'blue',
    red: color === 'red',
    xsmall: size === 'xsmall',
    small: size === 'small',
    medium: size === 'medium',
    large: size === 'large',
    overlay: overlay,
    disabled: disabled,
    noBorder: noBorder,
    iconOnly: iconOnly,
    dropdown: !!dropdown
  }"
>
  <div *ngIf="!saving" class="m-button__status--unsaved" #buttonTextContainer>
    <ng-content></ng-content>
  </div>
  <div
    *ngIf="saving"
    class="m-button__status--saving"
    [style.width]="buttonTextWidth + 'px'"
  >
    <span></span>
    <span></span>
    <span></span>
  </div>
  <m-dropdownMenu
    *ngIf="dropdown"
    [menu]="dropdown"
    [anchorPosition]="dropdownAnchorPosition"
    triggerClass="m-button__dropdownArrow"
    menuClass="m-button__dropdownMenu"
    data-cy="button-dropdown-action"
    #dropdownMenuComponent
  >
    <m-icon from="ion" iconId="arrow-down-b"></m-icon>
  </m-dropdownMenu>
</button>
